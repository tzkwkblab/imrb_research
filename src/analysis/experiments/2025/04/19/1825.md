# 目的
レビュー分析において、英語プロンプトを使用した場合の判定精度と安定性への影響を検証する。

# 条件
- 特徴リストの要素は20個
- 各特徴が当てはまるかどうかの判定を0,1のみで出力
- 5回LLMを使用して結果の統計を取る
- モデル：gpt-4.1-mini
- temperature：0.7（前回実験と同じ）
- 変更点：プロンプトを英語に変更

## プロンプト変更内容
### 変更前（日本語）
```prompt
あなたは商品レビューを分析する専門家です。
以下の商品レビューに対して、各特徴が当てはまるかどうかを判定してください。
判定は0（特徴なし）または1（特徴あり）で明確に行ってください。

【レビュー】
{review_text}

【レビュー評価】
{rating}

【特徴リスト】
{features_list}

回答形式：
{
    "features": {
        "1": 0 or 1,
        "2": 0 or 1,
        ...
    }
}
```

### 変更後（英語）
```prompt
You are an expert in analyzing product reviews.
Please evaluate whether each feature applies to the following product review.
Clearly indicate your judgment with 0 (feature not present) or 1 (feature present).

[REVIEW]
{review_text}

[REVIEW RATING]
{rating}

[FEATURE LIST]
{features_list}

Response format:
{
    "features": {
        "1": 0 or 1,
        "2": 0 or 1,
        ...
    }
}
```

## この実験での検証ポイント
1. 英語プロンプトへの変更が判定精度に影響を与えるか
2. 安定性に変化が生じるか
3. 特に英語レビューに対する判定精度が向上するか

## 結果

### レビュー2の分析
生データは[1825.csv](1825.csv)を参照してください。

#### 1. 判定精度の変化
- 前回との差異が見られた特徴：
  - 特徴12（製品の耐久性/品質）: 新たに不安定化（安定性0.60）
  - 特徴18（製品使用環境）: 安定性が低下（0.80→0.60）
  - 特徴19（期待との一致/不一致）: 安定性が向上（0.60→1.00）

#### 2. 安定性分布の変化
- 安定性1.00: 17件（前回18件）
- 安定性0.80: 0件（前回1件）
- 安定性0.60: 2件（前回1件）
- 平均安定性: 0.96（前回0.97）

## 考察

### 1. 判定精度への影響
- 全体的な判定傾向は日本語プロンプトと類似
- 一部の特徴で安定性の変化が見られた：
  - 改善：期待との一致/不一致の判定が安定化
  - 悪化：製品の耐久性と使用環境の判定が不安定化

### 2. 安定性への影響
- 平均安定性はわずかに低下（0.97→0.96）
- 完全に安定した特徴が1件減少
- 低安定性（0.60）の特徴が1件増加

### 3. 英語レビューに対する判定
- 英語プロンプトは英語レビューとの親和性が高い
- 特に主観的な評価（期待との一致など）の判定が改善
- ただし、技術的な特徴（耐久性など）の判定が不安定化

## 結論
英語プロンプトの使用は：
1. 全体的な判定精度は日本語プロンプトと同等
2. 一部の特徴で判定の安定性に変化
3. 英語レビューに対する主観的評価の判定が改善

## 今後の方向性
1. 両言語のプロンプトの利点を活かしたハイブリッドアプローチの検討
   - 主観的評価：英語プロンプト
   - 技術的特徴：日本語プロンプト

2. プロンプトの改善
   - 技術的特徴の判定基準をより明確に
   - 言語に依存しない判定基準の確立

3. 実験の拡大
   - より多くのレビューサンプルでの検証
   - 異なる言語のレビューでの比較実験 