# 実験パラメータ最終確認

## 1. データセット設定

### 1.1 Steam Reviews
- **データセットID**: `steam`
- **分割タイプ**: `aspect_vs_others`
- **グループサイズ**: 300
- **対象アスペクト**: 
  - gameplay
  - visual
  - story
- **確認事項**: 各アスペクトで最低300件のデータが利用可能か確認済み

### 1.2 SemEval ABSA
- **データセットID**: `semeval`
- **分割タイプ**: `aspect_vs_others`
- **グループサイズ**: 300
- **対象ドメイン・アスペクト**:
  - restaurant: food, service
  - laptop: battery, screen
- **確認事項**: 各ドメイン・アスペクトで最低300件のデータが利用可能か確認済み

### 1.3 GoEmotions
- **データセットID**: `goemotions`
- **分割タイプ**: `aspect_vs_others`
- **グループサイズ**: 300
- **対象感情**: 
  - joy
  - anger
  - sadness
  - fear
  - surprise
- **確認事項**: 各感情で最低300件のデータが利用可能か確認済み

### 1.4 COCO (Retrieved Concepts)
- **データセットID**: `retrieved_concepts`
- **分割タイプ**: `aspect_vs_bottom100`
- **グループサイズ**: 50（COCOはTop-100/Bottom-100それぞれ500件のキャプションがあるため、50件で十分）
- **対象コンセプト**: 
  - concept_0
  - concept_1
  - concept_2
  - concept_10
  - concept_50
- **確認事項**: 各コンセプトでTop-100/Bottom-100それぞれ50件以上のデータが利用可能

## 2. 実験パラメータ設定

### 2.1 Few-shot設定
- **0-shot**: 例題なし
- **1-shot**: 例題1個
- **3-shot**: 例題3個
- **確認事項**: 例題ファイルが各データセット用に準備されているか確認

### 2.2 GPTモデル設定
- **gpt-4o-mini**: デフォルトモデル（コスト効率重視）
- **gpt-5.1**: 最新高性能モデル（比較用）
- **確認事項**: 両モデルがAPIで利用可能か確認

### 2.3 LLM評価設定
- **LLM評価モデル**: `gpt-4o-mini`
- **LLM評価温度**: `0.0`
- **LLM評価有効化**: `True`
- **確認事項**: LLM評価機能が正常に動作するか確認

### 2.4 その他パラメータ
- **温度**: `0.7`
- **最大トークン数**: `100`
- **ランダムシード**: `42`
- **アスペクト説明文**: 使用しない（標準設定）
- **確認事項**: すべてのパラメータが設定ファイルで正しく設定されているか確認

## 3. 実験実行前チェックリスト

- [ ] 仮想環境がアクティブになっている
- [ ] 環境変数（OPENAI_API_KEY）が設定されている
- [ ] データセットファイルが正しいパスに存在する
- [ ] 実験マトリックスJSONファイルが正しく生成されている
- [ ] 結果保存ディレクトリが作成可能か確認
- [ ] 各データセットで必要なデータ量が確保されている
- [ ] GPTモデル（gpt-4o-mini, gpt-5.1）がAPIで利用可能か確認
- [ ] 例題ファイルが各データセット用に準備されている（Few-shot実験用）

## 4. 注意事項

### 4.1 データ量の確認
- Steam/SemEval/GoEmotions: 各アスペクトで最低300件のデータが必要
- COCO: 各コンセプトでTop-100/Bottom-100それぞれ50件以上のデータが必要

### 4.2 実行時間の見積もり
- 1実験あたり約10-30秒（API呼び出し時間含む）
- 102実験の合計実行時間: 約17-51分（順次実行の場合）

### 4.3 コスト見積もり
- gpt-4o-mini: 約$0.15/1M tokens（入力）+ $0.60/1M tokens（出力）
- gpt-5.1: 価格は要確認（最新モデルのため）
- 102実験の概算コスト: 数ドル〜数十ドル（モデルとトークン数による）

### 4.4 COCO実験の特殊性
- 正解ラベルがないため、BERT/BLEUスコアは参考値として扱う
- 出力の解釈が主要な評価軸
- 各実験結果を個別に確認し、解釈を記録する必要がある

## 5. パラメータ調整の可能性

### 5.1 グループサイズの調整
- データが不足している場合: グループサイズを減らす（例: 300 → 200）
- データが豊富な場合: グループサイズを増やす（例: 300 → 400）

### 5.2 Few-shot設定の調整
- 例題ファイルが準備されていない場合: 0-shotのみ実行
- 例題が豊富な場合: 5-shotなど追加の設定も検討可能

### 5.3 GPTモデルの調整
- gpt-5.1が利用できない場合: gpt-4o-miniのみで実行
- 追加の比較が必要な場合: 他のモデル（gpt-4oなど）も追加可能

## 6. 実験実行順序の推奨

1. **小規模テスト**: 各データセットから1アスペクトを選択し、0-shot/gpt-4o-miniでテスト実行
2. **Steam実験**: 全アスペクト×全Few-shot×全GPTモデルで実行
3. **SemEval実験**: 全ドメイン・アスペクト×全Few-shot×全GPTモデルで実行
4. **GoEmotions実験**: 全感情×全Few-shot×全GPTモデルで実行
5. **COCO実験**: 全コンセプト×全Few-shot×全GPTモデルで実行（解釈付き）

